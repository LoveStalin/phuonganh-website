<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>G·ª≠i Ph∆∞∆°ng Anh</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      min-height: 100vh;
      margin: 0;
      background-color: #fff0f5;
    }
    .container {
      display: flex;
      align-items: flex-end;
      gap: 20px;
      position: relative;
      flex-wrap: wrap;
    }
    .letter {
      background-color: #ffffff;
      padding: 30px;
      border: 2px solid #ffaec9;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      max-width: 400px;
      font-size: 18px;
      line-height: 1.6;
      position: relative;
      z-index: 1;
    }
    img {
      max-height: 400px;
      border-radius: 10px;
      display: block;
    }
    .heart {
      position: absolute;
      font-size: 24px;
      animation: float 3s infinite ease-in-out;
    }
    .heart:nth-child(1) { top: -10px; left: -20px; animation-delay: 0s; }
    .heart:nth-child(2) { top: 20px; right: -30px; animation-delay: 0.5s; }
    .heart:nth-child(3) { bottom: -10px; left: 10px; animation-delay: 1s; }
    .heart:nth-child(4) { bottom: -20px; right: 20px; animation-delay: 1.5s; }

    @keyframes float {
      0% { transform: translateY(0); opacity: 1; }
      50% { transform: translateY(-10px); opacity: 0.7; }
      100% { transform: translateY(0); opacity: 1; }
    }

    .music-toggle {
      margin-top: 20px;
      padding: 8px 20px;
      background-color: #ffaec9;
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-size: 16px;
    }

    .audio-section {
      text-align: center;
      margin-top: 20px;
    }

    .audio-section audio {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: #ffaec9;
    }

    .audio-section p {
      font-weight: bold;
      margin-top: 8px;
    }

    /* Media query */
    @media (max-width: 768px) {
      .container {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-end;
        gap: 10px;
      }
      .letter, img { max-width: 90%; }
      img { max-height: 300px; margin-top: 0; }
      audio { width: 80px; height: 80px; border-radius: 50%; }
      p { font-size: 16px; }
    }

    /* Popup styles */
    .popup-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(255,192,203,0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .popup-content {
      background: white;
      padding: 30px 40px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      position: relative;
    }

    .popup-content button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #ff69b4;
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-size: 16px;
    }

    .heart-floating {
      position: absolute;
      font-size: 24px;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      animation: floatHeart 3s infinite ease-in-out;
    }

    @keyframes floatHeart {
      0% { transform: translateX(-50%) translateY(0); opacity: 1; }
      50% { transform: translateX(-50%) translateY(-15px); opacity: 0.7; }
      100% { transform: translateX(-50%) translateY(0); opacity: 1; }
    }

    .fade-out { animation: fadeOut 0.6s forwards; }
    .fade-in { animation: fadeIn 0.6s forwards; }

    @keyframes fadeOut {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.95); }
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: scale(1.05); }
      100% { opacity: 1; transform: scale(1); }
    }
  </style>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LGJH4TYT65"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LGJH4TYT65');
</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P579482N');</script>
<!-- End Google Tag Manager -->
</head>
<body>

<div class="container">
  <div class="heart">‚ù§Ô∏è</div>
  <div class="heart">üíï</div>
  <div class="heart">üíñ</div>
  <div class="heart">üíò</div>

  <div class="letter">
    <h2>G·ª≠i Ph∆∞∆°ng Anh</h2>
    <p>
      C√≥ m·ªôt ng∆∞·ªùi lu√¥n ·ªü trong tim t·ªõ.
      C·∫≠u l√† Ph∆∞∆°ng Anh ‚Äì ng∆∞·ªùi ƒë√£ khi·∫øn t·ªõ tr∆∞·ªüng th√†nh h∆°n t·ª´ng ng√†y.
      D√π t∆∞∆°ng lai c√≥ ra sao, t·ªõ v·∫´n lu√¥n bi·∫øt ∆°n v√¨ t·∫•t c·∫£.
      V√¨ c·∫≠u m√† t·ªõ ƒë√£ h·ªçc ƒë∆∞·ª£c r·∫•t nhi·ªÅu ƒëi·ªÅu.
      Ph∆∞∆°ng Anh √†! T·ªõ y√™u c·∫≠u r·∫•t nhi·ªÅu!
      D√π sao th√¨, ch√∫c c·∫≠u m·ªôt ng√†y sinh nh·∫≠t ƒë√°ng nh·ªõ nh√©!
      T·ªõ ch√∫c c·∫≠u lu√¥n h·ªçc gi·ªèi v√† th√†nh c√¥ng trong t∆∞∆°ng lai.
      Xu√¢n Th√†nh t·ªõ ƒë√¢y s·∫Ω lu√¥n y√™u th∆∞∆°ng v√† b·∫£o v·ªá c·∫≠u.
      V√¨ c·∫≠u - t·ªõ nguy·ªán l√†m t·∫•t c·∫£.üíïüíïüíï(‚ùÅ¬¥‚ó°`‚ùÅ)
    </p>
  </div>

  <img src="phuonganhdangyeu.png" alt="Ph∆∞∆°ng Anh ch·ªâ tay">
</div>

<button class="music-toggle" onclick="toggleMusic()">üîä B·∫≠t nh·∫°c</button>

<audio id="bg-music" autoplay loop>
  <source src="audio/Doubt.mp3" type="audio/mp3">
</audio>

<div class="audio-section">
  <audio controls>
    <source src="audio/ghiamdanhchoPa.mp3" type="audio/mp3">
  </audio>
  <p>Nghe ƒëi ch·ªã y√™u üòò</p>
</div>

<!-- Popup trang 1 -->
<div id="popup" class="popup-overlay">
  <div class="popup-content" id="popup-page-1">
    <h2>üéâ Ch√†o M·ª´ng Ph∆∞∆°ng Anh üéâ</h2>
    <p>Xu√¢n Th√†nh ƒë√¢y!<br>Ch√∫c c·∫≠u c√≥ ng√†y sinh nh·∫≠t th·∫≠t h·∫°nh ph√∫c v√† ƒë√°ng nh·ªõ nha üíñ<br>
      T·ªõ ƒë√£ d√†nh c·∫£ 2 ng√†y ch·ªâ ƒë·ªÉ l√†m trang web nh·ªè n√†y cho c·∫≠u ƒë√≥ nha hihi<br>
      Kh√¥ng ph·∫£i v√¨ t·ªõ r·∫£nh ƒë√¢u, m√† l√† v√¨‚Ä¶<br>
      T·ªõ mu·ªën l√†m ra m·ªôt th·ª© g√¨ ƒë√≥ ch·ªâ d√†nh ri√™ng cho Ph∆∞∆°ng Anh th√¥i (ÔΩ°‚ô•‚Äø‚ô•ÔΩ°)<br>
      V√† t·ªõ c≈©ng mong c·∫≠u hi·ªÉu r·∫±ng...<br>
      T·ªõ y√™u th∆∞∆°ng c·∫≠u ƒë·∫øn nh∆∞·ªùng n√†oüíïüíï</p>
    <button onclick="showNextPopupPage()">Ti·∫øp ‚û§</button>
    <div class="heart-floating">‚ù§Ô∏è</div>
  </div>
</div>

<!-- Popup trang 2 -->
<div id="popup2" class="popup-overlay">
  <div class="popup-content fade-in">
    <h3>Trang Web n√†y ch·ªâ d√†nh ri√™ng cho c·∫≠u th√¥ii üíù</h3>
    <p>
      Trang Web n√†y bao g·ªìm l·ªùi m√† t·ªõ mu·ªën n√≥i v·ªõi c·∫≠u,<br>
      c√≥ nh·∫°c Doubt (t·ªõ kh√¥ng bi·∫øt n√™n d√πng nh·∫°c n√†o üòÅ)<br>
      v√† m·ªôt ƒëo·∫°n ghi √¢m 3p c·ªßa t·ªõ d√†nh cho c·∫≠u.<br>
      T·ªõ ch·ªâ c√≥ th·ªÉ l√†m ƒë∆∞·ª£c nh∆∞ th·∫ø n√†y trong 2 ng√†y thui, c·∫≠u th√¥ng c·∫£m nha üò≠üôè
    </p>
    <button onclick="acceptLove()">Ogeeee ü•∫</button>
    <button onclick="declineLove()">Kh√¥ng üòè</button>
    <div class="heart-floating">üíñ</div>
  </div>
</div>

<!-- C·∫£m ∆°n -->
<div id="thankyou" class="popup-overlay">
  <div class="popup-content fade-in">
    <h2>T·ªõ c·∫£m ∆°n c·∫≠u nhi·ªÅu nh√≥oo ü•∞</h2>
    <div class="heart-floating">üíò</div>
  </div>
</div>

<!-- Xin l·ªói -->
<div id="sorry" class="popup-overlay">
  <div class="popup-content fade-in">
    <h2>Cho t·ªõ xin l·ªói c·∫≠u nhi·ªÅu ·∫° üòî</h2>
    <div class="heart-floating">üíî</div>
  </div>
</div>
<!-- üëá Th√™m ƒëo·∫°n n√†y v√†o cu·ªëi <body>, tr∆∞·ªõc </body> -->
<script>
// M∆∞a tim
const numHearts = 50;
for (let i = 0; i < numHearts; i++) {
  const heart = document.createElement("div");
  heart.className = "rain-heart";
  heart.innerText = "üíñ";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.animationDuration = 2 + Math.random() * 3 + "s";
  heart.style.fontSize = 12 + Math.random() * 24 + "px";
  heart.style.top = Math.random() * -100 + "px";
  document.body.appendChild(heart);
}

// G√µ t·ª´ng ch·ªØ
const letter = document.querySelector(".letter p");
const fullText = letter.innerHTML;
letter.innerHTML = ""; // X√≥a ƒë·ªÉ b·∫Øt ƒë·∫ßu g√µ
let i = 0;
function typeLetter() {
  if (i < fullText.length) {
    letter.innerHTML += fullText.charAt(i);
    i++;
    setTimeout(typeLetter, 40); // t·ªëc ƒë·ªô g√µ (ms)
  }
}
window.addEventListener("load", typeLetter);
</script>

<style>
/* üíñ CSS cho m∆∞a tim */
.rain-heart {
  position: fixed;
  top: 0;
  z-index: 0;
  animation-name: dropHeart;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

@keyframes dropHeart {
  0% {
    transform: translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh);
    opacity: 0;
  }
}
</style>
<script>
  const bgMusic = document.getElementById("bg-music");
  const toggleBtn = document.querySelector(".music-toggle");

  function toggleMusic() {
    if (bgMusic.paused) {
      bgMusic.play();
      toggleBtn.innerText = "üîà T·∫Øt nh·∫°c";
    } else {
      bgMusic.pause();
      toggleBtn.innerText = "üîä B·∫≠t nh·∫°c";
    }
  }

  // Khi trang load, hi·ªán popup ƒë·∫ßu
  window.onload = function() {
    document.getElementById("popup").style.display = "flex";
  };

  function showNextPopupPage() {
    const popup1 = document.getElementById("popup");
    popup1.classList.add("fade-out");
    setTimeout(() => {
      popup1.style.display = "none";
      document.getElementById("popup2").style.display = "flex";
    }, 600);
  }

  function acceptLove() {
    document.getElementById("popup2").style.display = "none";
    const thank = document.getElementById("thankyou");
    thank.style.display = "flex";
    setTimeout(() => { thank.style.display = "none"; }, 3000);
  }

  function declineLove() {
    document.getElementById("popup2").style.display = "none";
    document.getElementById("sorry").style.display = "flex";
  }
  // M·ªü popup 1 khi trang load
window.onload = function () {
  document.getElementById("popup").style.display = "flex";
};

function closePopup() {
  document.getElementById("popup").style.display = "none";
  document.getElementById("popup2").style.display = "flex"; // m·ªü trang ti·∫øp
}

function acceptLove() {
  document.getElementById("popup2").style.display = "none";
  document.getElementById("thankyou").style.display = "flex";

  // T·ª± ƒë·ªông t·∫Øt sau 2 gi√¢y
  setTimeout(() => {
    document.getElementById("thankyou").style.display = "none";
  }, 2000);
}

function declineLove() {
  document.getElementById("popup2").style.display = "none";
  const sorry = document.getElementById("sorry");
  sorry.style.display = "flex";

  // T·ª± ƒë·ªông t·∫Øt sau 2 gi√¢y
  setTimeout(() => {
    sorry.style.display = "none";
  }, 2000);
}
function postComment() {
  const name = document.getElementById("comment-name").value.trim() || "·∫®n danh";
  const message = document.getElementById("comment-message").value.trim();

  if (!message) {
    alert("B·∫°n ch∆∞a nh·∫≠p l·ªùi nh·∫Øn!");
    return;
  }

  fetch("https://comment-cho-pa.onrender.com/", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ name, message })
  })
    .then(response => {
      if (!response.ok) throw new Error("G·ª≠i th·∫•t b·∫°i");
      return response.json();
    })
    .then(() => {
      document.getElementById("comment-name").value = "";
      document.getElementById("comment-message").value = "";
      renderComments();
    })
    .catch(error => {
      alert("L·ªói khi g·ª≠i l·ªùi nh·∫Øn üò≠: " + error.message);
    });
}

function renderComments() {
  const list = document.getElementById("comment-list");
  list.innerHTML = "<p>ƒêang t·∫£i comment...</p>";

  fetch("https://comment-cho-pa.onrender.com/")
    .then(res => res.json())
    .then(comments => {
      list.innerHTML = "";
      comments.forEach(({ name, message }) => {
        const commentBox = document.createElement("div");
        commentBox.style.background = "#fff0f5";
        commentBox.style.border = "1px solid #ffaec9";
        commentBox.style.padding = "15px";
        commentBox.style.marginBottom = "10px";
        commentBox.style.borderRadius = "12px";
        commentBox.style.boxShadow = "0 2px 5px rgba(0,0,0,0.1)";
        commentBox.innerHTML = `
          <div style="color: #e75480; font-weight: bold;">${name}</div>
          <div style="margin-top: 5px;">${message}</div>
        `;
        list.appendChild(commentBox);
      });
    })
    .catch(err => {
      list.innerHTML = "<p>Kh√¥ng th·ªÉ t·∫£i comment üò¢</p>";
      console.error(err);
    });
}

// G·ªçi khi load trang
window.onload = function () {
  renderComments();
  window.scrollTo({ top: document.getElementById("comment-list").offsetTop, behavior: "smooth" });
  document.getElementById("popup").style.display = "flex";
};
const formattedMessage = message.replace(/\n/g, "<br>");
commentBox.innerHTML = `<strong>${name}</strong><br>${formattedMessage}`;
</script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P579482N"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
 <!-- Comment section -->
<div id="comment-section" style="margin-top: 50px; width: 100%; max-width: 600px; text-align: center;">
  <h3>üí¨ Vi·∫øt l·ªùi nh·∫Øn m√† Ph∆∞∆°ng Anh g·ª≠i t·ªõi Xu√¢n Th√†nh üí¨</h3>
  <input type="text" id="comment-name" placeholder="T√™n b·∫°n (ho·∫∑c ƒë·ªÉ tr·ªëng n·∫øu ·∫©n danh)"
         style="padding: 10px; width: 80%; margin-bottom: 10px; border-radius: 10px; border: 1px solid #ffaec9;"><br>
  <textarea id="comment-message" rows="4" placeholder="Vi·∫øt l·ªùi nh·∫Øn t·∫°i ƒë√¢y..."
            style="padding: 10px; width: 80%; border-radius: 10px; border: 1px solid #ffaec9;"></textarea><br>
  <button onclick="postComment()" 
          style="margin-top: 10px; padding: 10px 20px; background-color: #ff69b4; color: white; border: none; border-radius: 20px; cursor: pointer;">
    G·ª≠i üíå
  </button>

  <div id="comment-list" style="margin-top: 30px; text-align: left;"></div>
</div>
</body>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
</html>